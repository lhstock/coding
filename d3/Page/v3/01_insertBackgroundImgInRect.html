<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>矩形中插入图片作为背景</title>
	<link rel="stylesheet" href="">
	<script src="../library/d3.js"></script>
    <script src="../library/jquery.min.js"></script>
</head>
<body>
</body>
<script>
            var img_url = '../img/background1.jpg';
            var img_url2 = '../img/background2.jpg';
            var Wwidth = $("body").width();
            var Wheight = window.innerHeight;
            var svg = d3.select("body").append("svg")
            .attr({
                "width":Wwidth,
                "height":Wheight
            });
            var svg = d3.select("svg")
            .attr({
            "width":Wwidth,
            "height":Wheight
            })
            //defs1
            svg.append("defs")
            .append("pattern")
            .attr({
                "id":"image",
                "patternUnits":"userSpaceOnUse",
                "width":1366,
                "height":768
            })
            .append("image")
            .attr({
                "x":0,
                "y":0,
                "xlink:href":img_url
            })
            //defs2
            svg. append("defs")
            .append("pattern")
            .attr({
                "id":"image2",
                "patternUnits":"userSpaceOnUse",
                "width":1920,
                "height":1080
            })
            .append("image")
            .attr({
                "x":0,
                "y":0,
                "xlink:href":img_url2
            })
            svg
            .append("rect")
            .attr({
                "width":Wwidth,
                "height":Wheight,
                "fill":"url(#image2)"
            })
            svg
            .append("circle")
            .attr({
                "cx":Wwidth/2,
                "cy":Wheight/2    ,
                "r":Wwidth > Wheight ? Wheight/2 : Wwidth /2,
                "fill":"url(#image)",
                "stroke":"red"
            })
            </script>
</html>